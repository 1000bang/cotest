package com.codingtest;

import java.util.Stack;

/**
 * =============================================================================
 * 1. 문제 (올바른 괄호)
 * =============================================================================
 * 괄호가 바르게 짝지어졌다는 것은 '(' 문자로 열렸으면 반드시 짝지어서 ')' 문자로 닫혀야 한다는 뜻입니다.
 *
 * 예를 들어 "()()" 또는 "(())()" 는 올바른 괄호입니다.
 * ")()(" 또는 "(()(" 는 올바르지 않은 괄호입니다.
 *
 * '(' 또는 ')' 로만 이루어진 문자열 s가 주어졌을 때,
 * 문자열 s가 올바른 괄호이면 true를, 올바르지 않으면 false를 return 하도록 solution 함수를 완성해 주세요.
 *
 * [제한사항]
 * - 문자열 s의 길이: 100,000 이하의 자연수
 * - 문자열 s는 '(' 또는 ')' 로만 이루어져 있습니다.
 *
 * =============================================================================
 * 2. 예시 입·출력
 * =============================================================================
 * | s        | answer |
 * |----------|--------|
 * | "()()"   | true   |
 * | "(())()" | true   |
 * | ")()("   | false  |
 * | "(()("   | false  |
 *
 * =============================================================================
 * 3. 방향을 어떻게 잡아야 할지 고민
 * =============================================================================
 * - ')'는 반드시 그 앞에 대응하는 '('가 있어야 함. "가장 가까운 열린 괄호"와 짝을 이룸 → LIFO → Stack.
 * - '('가 나오면 스택에 push, ')'가 나오면 스택에서 pop해서 짝 맞추기.
 * - ')'인데 스택이 비어 있으면 → 짝이 없음 → false.
 * - 끝까지 봤을 때 스택이 비어 있어야 모두 짝이 맞은 것. 남아 있으면 false.
 *
 * =============================================================================
 * 4. 설명 (왜 이렇게 코드를 짰는지)
 * =============================================================================
 * - Stack에 '('만 넣음. ')'가 나오면 pop으로 짝을 소비. pop할 게 없으면(empty) false 반환.
 * - 순회 후 스택이 비어 있으면 true, 아니면 열린 괄호가 남은 것이므로 false.
 * - 시간 O(n), 공간 O(n).
 */
public class stack_level2_01 {

    public boolean solution(String s) {
        Stack<Character> temp = new Stack<>();
        for (int i = 0; i < s.length(); i++) {
            char c = s.charAt(i);
            if (c == '(') {
                temp.push(c);
            } else {
                if (temp.isEmpty()) {
                    return false;
                }
                temp.pop();
            }
        }
        return temp.isEmpty();
    }
}
